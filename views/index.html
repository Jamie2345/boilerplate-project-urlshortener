<!DOCTYPE html>

<html>
  <head>
    <title>URL Shortener Microservice | freeCodeCamp.org</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="icon"
      type="image/png"
      href="https://cdn.freecodecamp.org/universal/favicons/favicon-16x16.png"
    />
    <link href="/public/style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="full-page-wrapper">

      <header id="page-header">
        <h1>URL Shortener Microservice</h1>
      </header>
      <main>
        <section id="examples_section">
          <div class="examples-container">
            <h2>Short URL Creation</h2>
            <p>
              <code>Example: POST [project_url]/api/shorturl - https://www.google.com</code>
            </p>
          </div>
        </section>
        <section id="post_url_section">
          <form action="api/shorturl" method="POST">
            <div class="inputBox">
              <label for="url_input">URL:</label>
              <input id="url_input" type="text" name="url" placeholder="https://www.freecodecamp.org/" />
              <input type="submit" value="Post URL" />
            </div>
          </form>
        </section>
        <section id="post_url_section">
          <div class="examples-container">
            <h2>Example Usage:</h2>
            <ul class="examples-lst">
              <li><a href="/api/shorturl/1">[this_project_url]/api/shorturl/1</a></li>
            </ul>
            <h3>Will redirect to:</h3>
            <p><a href="https://github.com/Jamie2345">https://github.com/Jamie2345</a> (My Github)</p>
          </div>
        </section>
        <section id="get-url-section">
          <div class="inputBox">
            <label for="url_input">URL:</label>
            <input id="short_url_input" type="text" name="url" placeholder="Enter shortened URL (eg: 1)" />
            <button id="get-button">Get URL</button>
            <script>
              document.querySelector('#get-button').addEventListener('click', function() {
                let url = document.querySelector('#short_url_input').value.replace(/^\s+/gm, '');

                if (url != '') {
                  window.location.href = 'api/shorturl/' + url;
                }
              });
            </script>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
